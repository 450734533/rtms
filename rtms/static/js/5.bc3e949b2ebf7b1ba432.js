webpackJsonp([5],{177:function(e,t,a){var o=a(72)(a(203),a(226),null,null);e.exports=o.exports},182:function(e,t,a){e.exports={default:a(183),__esModule:!0}},183:function(e,t,a){a(187),e.exports=a(7).Object.assign},184:function(e,t,a){"use strict";var o=a(74),l=a(185),r=a(186),i=a(39),s=a(73),n=Object.assign;e.exports=!n||a(38)(function(){var e={},t={},a=Symbol(),o="abcdefghijklmnopqrst";return e[a]=7,o.split("").forEach(function(e){t[e]=e}),7!=n({},e)[a]||Object.keys(n({},t)).join("")!=o})?function(e,t){for(var a=i(e),n=arguments.length,d=1,c=l.f,u=r.f;n>d;)for(var m,p=s(arguments[d++]),b=c?o(p).concat(c(p)):o(p),f=b.length,h=0;f>h;)u.call(p,m=b[h++])&&(a[m]=p[m]);return a}:n},185:function(e,t){t.f=Object.getOwnPropertySymbols},186:function(e,t){t.f={}.propertyIsEnumerable},187:function(e,t,a){var o=a(20);o(o.S+o.F,"Object",{assign:a(184)})},203:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(182),l=a.n(o);t.default={data:function(){return{projectList:[],sels:[],total:0,page:1,filters:{name:""},listLoading:!1,addFormVisible:!1,editFormVisible:!1,addLoading:!1,editLoading:!1,executeFormVisible:!1,addFormRules:{name:[{required:!0,message:"请输入项目名称",trigger:"blur"}]},addForm:{name:"",url:"",cookies:"",header:"",boby:"",remark:"",expect:""},activeNames:["1","2","3","4","5"],debugResult:{url:"",header:"",args:"",status_code:"",result:"",debug:"",except:"",error:""}}},mounted:function(){this.projectView(),window.xxx=this},methods:{projectView:function(){var e=this,t={page:this.page,name:this.filters.name};this.listLoading=!0,this.$axios.get("/api/case/",{params:t}).then(function(t){e.total=t.data.count,e.projectList=t.data.results,e.listLoading=!1})},handleCurrentChange:function(e){this.page=e,this.projectView()},handleDel:function(e,t){var a=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){a.listLoading=!0;var e="/api/case/"+t.id+"/";a.$axios.delete(e).then(function(e){a.listLoading=!1,a.$message({message:"删除成功",type:"success"}),a.projectView()})})},handleAdd:function(){this.addFormVisible=!0,this.addForm={name:"",url:"",cookies:"",header:"",boby:"",remark:"",expect:""}},handleExecute:function(e,t){var a=this;this.executeFormVisible=!0;var o="/api/case/"+t.id+"/execute/";console.log("aaa"),console.log(o),this.$axios.get(o).then(function(e){a.debugResult.except=e.data.except,a.debugResult.except?a.debugResult.error=e.data.error:(a.debugResult.url=e.data.url,a.debugResult.header=e.data.header,a.debugResult.args=e.data.args,a.debugResult.status_code=e.data.status_code,a.debugResult.result=e.data.result,a.debugResult.debug=e.data.debug)})},handleEdit:function(e,t){this.editFormVisible=!0,this.addForm=l()({},t)},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.addLoading=!0;var t=l()({},e.addForm);e.$axios.post("/api/case/",t).then(function(t){e.addLoading=!1,e.$message({message:"提交成功",type:"success"}),e.addFormVisible=!1,e.$refs.addForm.resetFields(),e.projectView()})})})},editSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.editLoading=!0;var t=l()({},e.addForm),a="/api/case/"+t.id+"/";e.$axios.put(a,t).then(function(t){e.editLoading=!1,e.$message({message:"修改成功",type:"success"}),e.editFormVisible=!1,e.projectView()})})})},querySearch:function(e,t){this.$axios.get("/api/case/").then(function(e){var a=e.data.results;t(a)})},selsChange:function(e){this.sels=e},batchRemove:function(){var e=this,t=this.sels.map(function(e){return e.id}).join(",");this.$confirm("确认删除选中记录吗？","危险",{type:"warning"}).then(function(){e.listLoading=!0,e.$axios.get("/api/case/batch/?id="+t).then(function(t){if(e.listLoading=!1,t.data.status)e.$message({message:"批量删除成功",type:"success"}),e.projectView();else{var a=t.data.message;e.$message({message:a,type:"error"})}})}).catch(function(){})}}}},226:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{staticClass:"toolbar",staticStyle:{"margin-bottom":"3px",padding:"3px 10px",background:"#f3f9f7"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",[a("el-input",{model:{value:e.filters.name,callback:function(t){e.filters.name=t},expression:"filters.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",placeholder:"请输入内容"},on:{click:e.projectView}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.projectList,"highlight-current-row":"",border:""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{prop:"retId",label:"retId",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(a){e.handleExecute(t.$index,t.row)}}},[e._v("\n          执行\n        ")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.handleDel(t.$index,t.row)}}},[e._v("删除\n        ")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"新增","close-on-click-modal":!1,size:"small"},model:{value:e.addFormVisible,callback:function(t){e.addFormVisible=t},expression:"addFormVisible"}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"80px",rules:e.addFormRules}},[a("el-form-item",{attrs:{label:"用例名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入用例名称"},model:{value:e.addForm.name,callback:function(t){e.addForm.name=t},expression:"addForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"url",prop:"url"}},[a("el-input",{attrs:{placeholder:"请输入url"},model:{value:e.addForm.url,callback:function(t){e.addForm.url=t},expression:"addForm.url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"cookies",prop:"cookies"}},[a("el-input",{attrs:{placeholder:"请输入cookies,非必填"},model:{value:e.addForm.cookies,callback:function(t){e.addForm.cookies=t},expression:"addForm.cookies"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"header",prop:"header"}},[a("el-input",{attrs:{placeholder:"请输入header",type:"textarea",rows:"4"},model:{value:e.addForm.header,callback:function(t){e.addForm.header=t},expression:"addForm.header"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"boby",prop:"boby"}},[a("el-input",{attrs:{placeholder:"请输入boby",type:"textarea",rows:"10"},model:{value:e.addForm.boby,callback:function(t){e.addForm.boby=t},expression:"addForm.boby"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"期望值",prop:"expect"}},[a("el-input",{attrs:{placeholder:"请输入expect"},model:{value:e.addForm.expect,callback:function(t){e.addForm.expect=t},expression:"addForm.expect"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{model:{value:e.addForm.remark,callback:function(t){e.addForm.remark=t},expression:"addForm.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){e.addSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑","close-on-click-modal":!1,size:"small"},model:{value:e.editFormVisible,callback:function(t){e.editFormVisible=t},expression:"editFormVisible"}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"80px",rules:e.addFormRules}},[a("el-form-item",{attrs:{label:"用例名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入用例名称"},model:{value:e.addForm.name,callback:function(t){e.addForm.name=t},expression:"addForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"url",prop:"url"}},[a("el-input",{attrs:{placeholder:"请输入url"},model:{value:e.addForm.url,callback:function(t){e.addForm.url=t},expression:"addForm.url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"cookies",prop:"cookies"}},[a("el-input",{attrs:{placeholder:"请输入cookies,非必填"},model:{value:e.addForm.cookies,callback:function(t){e.addForm.cookies=t},expression:"addForm.cookies"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"header",prop:"header"}},[a("el-input",{attrs:{placeholder:"请输入header",type:"textarea",rows:"4"},model:{value:e.addForm.header,callback:function(t){e.addForm.header=t},expression:"addForm.header"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"boby",prop:"boby"}},[a("el-input",{attrs:{placeholder:"请输入boby",type:"textarea",autosize:{minRows:2,maxRows:25}},model:{value:e.addForm.boby,callback:function(t){e.addForm.boby=t},expression:"addForm.boby"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"期望值",prop:"expect"}},[a("el-input",{attrs:{placeholder:"请输入expect"},model:{value:e.addForm.expect,callback:function(t){e.addForm.expect=t},expression:"addForm.expect"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{model:{value:e.addForm.remark,callback:function(t){e.addForm.remark=t},expression:"addForm.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.editLoading},nativeOn:{click:function(t){e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"调试","close-on-click-modal":!1,"custom-class":e.debugResult.debug},model:{value:e.executeFormVisible,callback:function(t){e.executeFormVisible=t},expression:"executeFormVisible"}},[!0===e.debugResult.except?[a("el-alert",{attrs:{title:"执行错误",type:"error",description:e.debugResult.error,"show-icon":""}})]:[a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"Uri",name:"1"}},[a("div",{domProps:{textContent:e._s(e.debugResult.url)}})]),e._v(" "),a("el-collapse-item",{attrs:{title:"Request Headers",name:"2"}},[a("div",{domProps:{textContent:e._s(e.debugResult.header)}})]),e._v(" "),a("el-collapse-item",{attrs:{title:"Request Data",name:"3"}},[a("div",{domProps:{textContent:e._s(e.debugResult.args)}})]),e._v(" "),a("el-collapse-item",{attrs:{title:"Status Code",name:"4"}},[a("div",{domProps:{textContent:e._s(e.debugResult.status_code)}})]),e._v(" "),a("el-collapse-item",{attrs:{title:"Response Result",name:"5"}},[a("div",{domProps:{textContent:e._s(e.debugResult.result)}})])],1)]],2),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-button",{attrs:{type:"danger",disabled:0===e.sels.length},on:{click:e.batchRemove}},[e._v("批量删除")]),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":15,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=5.bc3e949b2ebf7b1ba432.js.map