{"version":3,"sources":["webpack:///static/js/7.fb92618b3ad25210ef26.js","webpack:///./src/modules/app/pages/Register.vue","webpack:///Register.vue","webpack:///./src/modules/app/pages/Register.vue?35d8"],"names":["webpackJsonp","174","module","exports","__webpack_require__","Component","200","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_axios__","__WEBPACK_IMPORTED_MODULE_0_axios___default","n","data","_this","this","logining","RegisterForm","username","first_name","pass","checkPass","email","rules","required","message","trigger","type","validator","rule","callback","Error","$refs","validateField","mounted","window","register","methods","_register","apply","arguments","toString","_this2","validate","valid","a","post","then","response","status","$message","duration","$router","push","path","catch","error","resetForm","formName","resetFields","220","render","_vm","_h","$createElement","_c","_self","attrs","gutter","span","offset","ref","model","label-width","staticClass","_v","label","prop","$$v","expression","staticStyle","width","loading","nativeOn","click","$event","preventDefault","on","staticRenderFns"],"mappings":"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","file":"static/js/7.fb92618b3ad25210ef26.js","sourcesContent":["webpackJsonp([7],{\n\n/***/ 174:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(72)(\n  /* script */\n  __webpack_require__(200),\n  /* template */\n  __webpack_require__(220),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 200:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios__ = __webpack_require__(75);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_axios__);\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    var _this = this;\n\n    var validatePass = function validatePass(rule, value, callback) {\n      if (value === '') {\n        callback(new Error('请输入密码'));\n      } else {\n        if (_this.RegisterForm.checkPass !== '') {\n          _this.$refs.RegisterForm.validateField('checkPass');\n        }\n        callback();\n      }\n    };\n    var validatePass2 = function validatePass2(rule, value, callback) {\n      if (value === '') {\n        callback(new Error('请再次输入密码'));\n      } else if (value !== _this.RegisterForm.pass) {\n        callback(new Error('两次输入密码不一致!'));\n      } else {\n        callback();\n      }\n    };\n    return {\n      logining: false,\n      RegisterForm: {\n        username: '',\n        first_name: '',\n        pass: '',\n        checkPass: '',\n        email: ''\n      },\n      rules: {\n        username: [{ required: true, message: '请输入账号', trigger: 'blur' }],\n        email: [{ required: true, message: '请输入邮箱', trigger: 'blur' }, { type: 'email', message: '请输入正确的邮箱地址', trigger: 'blur,change' }],\n        first_name: [{ required: true, message: '请输入姓名', trigger: 'blur' }],\n        pass: [{ validator: validatePass, trigger: 'blur' }],\n        checkPass: [{ validator: validatePass2, trigger: 'blur' }]\n      }\n    };\n  },\n\n  mounted: function mounted() {\n    window.register = this;\n  },\n  methods: {\n    register: function (_register) {\n      function register() {\n        return _register.apply(this, arguments);\n      }\n\n      register.toString = function () {\n        return _register.toString();\n      };\n\n      return register;\n    }(function () {\n      var _this2 = this;\n\n      this.$refs.RegisterForm.validate(function (valid) {\n        if (valid) {\n          var _url = 'http://172.17.160.36/users/register/';\n          __WEBPACK_IMPORTED_MODULE_0_axios___default.a.post(_url, _this2.RegisterForm).then(function (response) {\n            if (response.status === 201) {\n              _this2.$message({\n                message: '注册成功，请联系管理员添加权限',\n                type: 'success',\n                duration: 5000\n              });\n              _this2.$router.push({ path: '/login' });\n            }\n          }).catch(function (error) {\n            register.$message({\n              message: '注册失败，已存在该用户',\n              type: 'error'\n            });\n          });\n        }\n      });\n    }),\n    resetForm: function resetForm(formName) {\n      this.$refs[formName].resetFields();\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 220:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-row', {\n    attrs: {\n      \"gutter\": 20\n    }\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 8,\n      \"offset\": 8\n    }\n  }, [_c('el-form', {\n    ref: \"RegisterForm\",\n    attrs: {\n      \"model\": _vm.RegisterForm,\n      \"rules\": _vm.rules,\n      \"label-width\": \"100px\"\n    }\n  }, [_c('h3', {\n    staticClass: \"title\"\n  }, [_vm._v(\"RTMS注册\")]), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"工号\",\n      \"prop\": \"username\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.RegisterForm.username),\n      callback: function($$v) {\n        _vm.RegisterForm.username = $$v\n      },\n      expression: \"RegisterForm.username\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"姓名\",\n      \"prop\": \"first_name\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.RegisterForm.first_name),\n      callback: function($$v) {\n        _vm.RegisterForm.first_name = $$v\n      },\n      expression: \"RegisterForm.first_name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"邮箱\",\n      \"prop\": \"email\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.RegisterForm.email),\n      callback: function($$v) {\n        _vm.RegisterForm.email = $$v\n      },\n      expression: \"RegisterForm.email\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"密码\",\n      \"prop\": \"pass\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\"\n    },\n    model: {\n      value: (_vm.RegisterForm.pass),\n      callback: function($$v) {\n        _vm.RegisterForm.pass = $$v\n      },\n      expression: \"RegisterForm.pass\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"密码确认\",\n      \"prop\": \"checkPass\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\"\n    },\n    model: {\n      value: (_vm.RegisterForm.checkPass),\n      callback: function($$v) {\n        _vm.RegisterForm.checkPass = $$v\n      },\n      expression: \"RegisterForm.checkPass\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticStyle: {\n      \"width\": \"100%\"\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"loading\": _vm.logining\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.register($event)\n      }\n    }\n  }, [_vm._v(\"注册\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.resetForm('RegisterForm')\n      }\n    }\n  }, [_vm._v(\"重置\")])], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/7.fb92618b3ad25210ef26.js","var Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Register.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1ff6776e\\\"}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Register.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/modules/app/pages/Register.vue\n// module id = 174\n// module chunks = 7","<template>\n  <el-row :gutter=\"20\">\n    <el-col :span=\"8\" :offset=\"8\">\n      <el-form :model=\"RegisterForm\" :rules=\"rules\" ref=\"RegisterForm\" label-width=\"100px\">\n      <h3 class=\"title\">RTMS注册</h3>\n      <el-form-item label=\"工号\" prop=\"username\">\n        <el-input v-model=\"RegisterForm.username\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"姓名\" prop=\"first_name\">\n        <el-input v-model=\"RegisterForm.first_name\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"邮箱\" prop=\"email\">\n        <el-input v-model=\"RegisterForm.email\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"密码\" prop=\"pass\">\n        <el-input type=\"password\" v-model=\"RegisterForm.pass\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"密码确认\" prop=\"checkPass\">\n        <el-input type=\"password\" v-model=\"RegisterForm.checkPass\"></el-input>\n      </el-form-item>\n      <el-form-item style=\"width:100%;\">\n        <el-button type=\"primary\" @click.native.prevent=\"register\" :loading=\"logining\">注册</el-button>\n        <el-button @click=\"resetForm('RegisterForm')\">重置</el-button>\n      </el-form-item>\n    </el-form>\n    </el-col>\n  </el-row>\n</template>\n<script>\n//  import { requestLogin } from '../../../api/api';\n\n  import axios from 'axios';\n  export default {\n    data() {\n      var validatePass = (rule, value, callback) => {\n        if (value === '') {\n          callback(new Error('请输入密码'));\n        } else {\n          if (this.RegisterForm.checkPass !== '') {\n            this.$refs.RegisterForm.validateField('checkPass');\n          }\n          callback();\n        }\n      };\n      var validatePass2 = (rule, value, callback) => {\n        if (value === '') {\n          callback(new Error('请再次输入密码'));\n        } else if (value !== this.RegisterForm.pass) {\n          callback(new Error('两次输入密码不一致!'));\n        } else {\n          callback();\n        }\n      };\n      return {\n        logining: false,\n        RegisterForm: {\n          username: '',\n          first_name: '',\n          pass: '',\n          checkPass: '',\n          email: ''\n        },\n        rules: {\n          username: [\n            { required: true, message: '请输入账号', trigger: 'blur' }\n          ],\n          email: [\n            { required: true, message: '请输入邮箱', trigger: 'blur' },\n            { type: 'email', message: '请输入正确的邮箱地址', trigger: 'blur,change' }\n          ],\n          first_name: [\n            { required: true, message: '请输入姓名', trigger: 'blur' }\n          ],\n          pass: [\n            { validator:validatePass , trigger: 'blur' }\n          ],\n          checkPass: [\n            { validator:validatePass2, trigger: 'blur' }\n          ],\n        }\n      };\n    },\n    mounted: function () {\n        window.register = this;\n    },\n    methods: {\n      register () {\n        this.$refs.RegisterForm.validate((valid) => {\n            if (valid) {\n              let _url = 'http://172.17.160.36/users/register/';\n              axios.post(_url, this.RegisterForm).then(response=>{\n                if (response.status===201) {\n                  this.$message({\n                      message: '注册成功，请联系管理员添加权限',\n                      type: 'success',\n                      duration: 5000\n                  });\n                  this.$router.push({ path: '/login' });\n                }\n              }).catch(function (error) {\n                register.$message({\n                  message: '注册失败，已存在该用户',\n                  type: 'error'\n                })\n              });\n            }\n        })\n      },\n      resetForm(formName) {\n        this.$refs[formName].resetFields();\n      }\n    }\n  }\n\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Register.vue?cb60d394","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-row', {\n    attrs: {\n      \"gutter\": 20\n    }\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 8,\n      \"offset\": 8\n    }\n  }, [_c('el-form', {\n    ref: \"RegisterForm\",\n    attrs: {\n      \"model\": _vm.RegisterForm,\n      \"rules\": _vm.rules,\n      \"label-width\": \"100px\"\n    }\n  }, [_c('h3', {\n    staticClass: \"title\"\n  }, [_vm._v(\"RTMS注册\")]), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"工号\",\n      \"prop\": \"username\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.RegisterForm.username),\n      callback: function($$v) {\n        _vm.RegisterForm.username = $$v\n      },\n      expression: \"RegisterForm.username\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"姓名\",\n      \"prop\": \"first_name\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.RegisterForm.first_name),\n      callback: function($$v) {\n        _vm.RegisterForm.first_name = $$v\n      },\n      expression: \"RegisterForm.first_name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"邮箱\",\n      \"prop\": \"email\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.RegisterForm.email),\n      callback: function($$v) {\n        _vm.RegisterForm.email = $$v\n      },\n      expression: \"RegisterForm.email\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"密码\",\n      \"prop\": \"pass\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\"\n    },\n    model: {\n      value: (_vm.RegisterForm.pass),\n      callback: function($$v) {\n        _vm.RegisterForm.pass = $$v\n      },\n      expression: \"RegisterForm.pass\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"密码确认\",\n      \"prop\": \"checkPass\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\"\n    },\n    model: {\n      value: (_vm.RegisterForm.checkPass),\n      callback: function($$v) {\n        _vm.RegisterForm.checkPass = $$v\n      },\n      expression: \"RegisterForm.checkPass\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticStyle: {\n      \"width\": \"100%\"\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"loading\": _vm.logining\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.register($event)\n      }\n    }\n  }, [_vm._v(\"注册\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.resetForm('RegisterForm')\n      }\n    }\n  }, [_vm._v(\"重置\")])], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-1ff6776e\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/modules/app/pages/Register.vue\n// module id = 220\n// module chunks = 7"],"sourceRoot":""}