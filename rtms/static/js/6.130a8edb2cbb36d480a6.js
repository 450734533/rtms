webpackJsonp([6],{175:function(t,e,a){var i=a(72)(a(201),a(222),null,null);t.exports=i.exports},182:function(t,e,a){t.exports={default:a(183),__esModule:!0}},183:function(t,e,a){a(187),t.exports=a(7).Object.assign},184:function(t,e,a){"use strict";var i=a(74),n=a(185),s=a(186),o=a(39),l=a(73),r=Object.assign;t.exports=!r||a(38)(function(){var t={},e={},a=Symbol(),i="abcdefghijklmnopqrst";return t[a]=7,i.split("").forEach(function(t){e[t]=t}),7!=r({},t)[a]||Object.keys(r({},e)).join("")!=i})?function(t,e){for(var a=o(t),r=arguments.length,d=1,c=n.f,u=s.f;r>d;)for(var m,p=l(arguments[d++]),f=c?i(p).concat(c(p)):i(p),h=f.length,g=0;h>g;)u.call(p,m=f[g++])&&(a[m]=p[m]);return a}:r},185:function(t,e){e.f=Object.getOwnPropertySymbols},186:function(t,e){e.f={}.propertyIsEnumerable},187:function(t,e,a){var i=a(20);i(i.S+i.F,"Object",{assign:a(184)})},201:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(182),n=a.n(i);e.default={data:function(){return{auth_jar:[],del_file:!1,projectList:[],sels:[],total:0,page:1,filters:{name:""},listLoading:!1,addFormVisible:!1,editFormVisible:!1,addLoading:!1,editLoading:!1,editLoading1:!1,executeFormVisible:!1,addFormRules:{name:[{required:!0,message:"请输入鉴权名称",trigger:"blur"}]},addForm:{name:"",auth_jar:""},activeNames:["1","2","3","4","5"],debugResult:{url:"",header:"",args:"",status_code:"",result:"",debug:"",except:"",error:""}}},mounted:function(){this.projectView(),window.xxx=this},methods:{projectView:function(){var t=this,e={page:this.page,name:this.filters.name};this.listLoading=!0,this.$axios.get("/api/auth_s/",{params:e}).then(function(e){t.total=e.data.count,t.projectList=e.data.results,t.listLoading=!1})},handleCurrentChange:function(t){this.page=t,this.projectView()},addSubmit:function(){var t=this;this.$refs.addForm.validate(function(e){e&&t.$confirm("确认提交吗？","提示",{}).then(function(){t.addLoading=!0;var e=n()({},t.addForm);t.$axios.post("/api/auth_s/",e).then(function(e){t.addLoading=!1,t.$message({message:"提交成功",type:"success"}),t.addFormVisible=!1,t.$refs.addForm.resetFields(),t.projectView()})})})},editSubmitZip:function(){var t=this;this.$confirm("确认提交吗？","提示",{}).then(function(){t.editLoading1=!0;var e=new FormData;if(t.$refs.auth_jar.uploadFiles[0]){if(!t.$refs.auth_jar.uploadFiles[0].raw)return t.editLoading1=!1,void t.$message({message:"文件无变化，无需修改",type:"success"});t.auth_jar[0]=t.$refs.auth_jar.uploadFiles[0].raw,e.append("auth_jar",t.auth_jar[0])}else t.del_file=!0,e.append("del_file",t.del_file);t.$axios.post("/api/auth_s/",e,{method:"post",headers:{"Content-Type":"multipart/form-data"}}).then(function(e){t.editLoading1=!1,t.addForm.auth_jar=e.data.file_path,t.$message({message:"修改成功",type:"success"})})})},clearFileList:function(){this.$refs.auth_jar.clearFiles(),this.auth_jar=[]},handleDel:function(t,e){var a=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){a.listLoading=!0;var t="/api/auth_s/"+e.id+"/";a.$axios.delete(t).then(function(t){a.listLoading=!1,a.$message({message:"删除成功",type:"success"}),a.projectView()})})},handleAdd:function(){this.addFormVisible=!0,this.addForm={name:"",auth_jar:""}},handleEdit:function(t,e){this.editFormVisible=!0,this.addForm=n()({},e)},editSubmit:function(){var t=this;this.$refs.addForm.validate(function(e){e&&t.$confirm("确认提交吗？","提示",{}).then(function(){t.editLoading=!0;var e=n()({},t.addForm),a="/api/auth_s/"+e.id+"/";t.$axios.put(a,e).then(function(e){t.editLoading=!1,t.$message({message:"修改成功",type:"success"}),t.editFormVisible=!1,t.projectView()})})})},querySearch:function(t,e){this.$axios.get("/api/auth_s/").then(function(t){var a=t.data.results;e(a)})},selsChange:function(t){this.sels=t},batchRemove:function(){var t=this,e=this.sels.map(function(t){return t.id}).join(",");this.$confirm("确认删除选中记录吗？","危险",{type:"warning"}).then(function(){t.listLoading=!0,t.$axios.get("/api/auth_s/batch/?id="+e).then(function(e){if(t.listLoading=!1,e.data.status)t.$message({message:"批量删除成功",type:"success"}),t.projectView();else{var a=e.data.message;t.$message({message:a,type:"error"})}})}).catch(function(){})}}}},222:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",[a("el-col",{staticClass:"toolbar",staticStyle:{"margin-bottom":"3px",padding:"3px 10px",background:"#f3f9f7"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:t.filters}},[a("el-form-item",[a("el-input",{model:{value:t.filters.name,callback:function(e){t.filters.name=e},expression:"filters.name"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",placeholder:"请输入内容"},on:{click:t.projectView}},[t._v("查询")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.handleAdd}},[t._v("新增")])],1)],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.projectList,"highlight-current-row":"",border:""},on:{"selection-change":t.selsChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{type:"index",width:"60"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"auth_jar",label:"文件"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){t.handleDel(e.$index,e.row)}}},[t._v("删除\n        ")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:"新增","close-on-click-modal":!1,size:"small"},model:{value:t.addFormVisible,callback:function(e){t.addFormVisible=e},expression:"addFormVisible"}},[a("el-form",{ref:"addForm",attrs:{model:t.addForm,"label-width":"80px",rules:t.addFormRules}},[a("el-form-item",{attrs:{label:"用例名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入用例名称"},model:{value:t.addForm.name,callback:function(e){t.addForm.name=e},expression:"addForm.name"}})],1),t._v(" "),a("el-upload",{ref:"auth_jar",attrs:{name:"auth_jar",action:"","auto-upload":!1,multiple:!1,"file-list":t.auth_jar}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.clearFileList()}},slot:"trigger"},[t._v("选择python文件"),a("i",{staticClass:"el-icon-upload el-icon--right"})]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success",loading:t.editLoading1},nativeOn:{click:function(e){t.editSubmitZip(e)}}},[t._v("上传到服务器")])],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{nativeOn:{click:function(e){t.addFormVisible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary",loading:t.addLoading},nativeOn:{click:function(e){t.addSubmit(e)}}},[t._v("提交")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"编辑","close-on-click-modal":!1,size:"small"},model:{value:t.editFormVisible,callback:function(e){t.editFormVisible=e},expression:"editFormVisible"}},[a("el-form",{ref:"addForm",attrs:{model:t.addForm,"label-width":"80px",rules:t.addFormRules}},[a("el-form-item",{attrs:{label:"用例名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入用例名称"},model:{value:t.addForm.name,callback:function(e){t.addForm.name=e},expression:"addForm.name"}})],1),t._v(" "),a("el-upload",{ref:"auth_jar",attrs:{name:"auth_jar",action:"","auto-upload":!1,multiple:!1,"file-list":t.auth_jar}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.clearFileList()}},slot:"trigger"},[t._v("选择python文件"),a("i",{staticClass:"el-icon-upload el-icon--right"})]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success",loading:t.editLoading1},nativeOn:{click:function(e){t.editSubmitZip(e)}}},[t._v("上传到服务器")])],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{nativeOn:{click:function(e){t.addFormVisible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary",loading:t.editLoading},nativeOn:{click:function(e){t.editSubmit(e)}}},[t._v("提交")])],1)],1),t._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-button",{attrs:{type:"danger",disabled:0===t.sels.length},on:{click:t.batchRemove}},[t._v("批量删除")]),t._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":15,total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=6.130a8edb2cbb36d480a6.js.map